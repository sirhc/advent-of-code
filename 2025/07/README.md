# Day 7: Laboratories

https://adventofcode.com/2025/day/7

## Part One

There may be a way to actually calculate the number of times the beam is split, but I opted to simulate the beam propagation because it was more fun to visualize.

```
❯ perl tachyon.pl < example
.......S.......  0
.......|.......  0
......|^|......  1
......|.|......  0
.....|^|^|.....  2
.....|.|.|.....  0
....|^|^|^|....  3
....|.|.|.|....  0
...|^|^|||^|...  3
...|.|.|||.|...  0
..|^|^|||^|^|..  4
..|.|.|||.|.|..  0
.|^|||^||.||^|.  3
.|.|||.||.||.|.  0
|^|^|^|^|^|||^|  5
|.|.|.|.|.|||.|  0

❯ perl tachyon.pl < example | awk '{ print $2 }' | paste -sd+ - | bc
21

❯ perl tachyon.pl < input | tail
....|^|||||^|||^|^|^|||^|||^|^|^|^|^|||^|^|^|^|^|||^|^|||^|^|^||.||^|||^|^|^|^||.||^|||^||||.|.||^||.||^|^|||^|^|^||.||^|^|^|^|^|^|.|||^|.... 38
....|.|||||.|||.|.|.|||.|||.|.|.|.|.|||.|.|.|.|.|||.|.|||.|.|.||.||.|||.|.|.|.||.||.|||.||||.|.||.||.||.|.|||.|.|.||.||.|.|.|.|.|.|.|||.|....  0
...|^|||||^|^|^||.|.||^|^||.||^|^|^|^||.||^|^|^|^|||^|^|^|^|^|^|.|||^|^|||^|||^|^|^|^|^|^|||.|.|||^|^|^|^|^|||^|^|^|.|^|^|^|||^|^|||^|^|^|... 43
...|.|||||.|.|.||.|.||.|.||.||.|.|.|.||.||.|.|.|.|||.|.|.|.|.|.|.|||.|.|||.|||.|.|.|.|.|.|||.|.|||.|.|.|.|.|||.|.|.|.|.|.|.|||.|.|||.|.|.|...  0
..|^||||||.||^|^|^|.|^|||^|^|^|^||.||^|^|||^|^||.||^|^|^|||^|^|^|||||^|^|^|||^|^|^|^|^|^|^|^||.||^|^|^|^|||^||.||^|^|^|^|^|||^||.||||^|^|^|.. 41
..|.||||||.||.|.|.|.|.|||.|.|.|.||.||.|.|||.|.||.||.|.|.|||.|.|.|||||.|.|.|||.|.|.|.|.|.|.|.||.||.|.|.|.|||.||.||.|.|.|.|.|||.||.||||.|.|.|..  0
.|^|^|||^|^|||^|^|^|^|||||^|^||.||^|||^|^||.||^|^|^|^|^|||^||.||^|^|^|||^|^||.|.|.||^|^|^||.||.|||^||.|.||||^|^|^|^|^|^|||^|^|^|^|^|^|||^|^|. 37
.|.|.|||.|.|||.|.|.|.|||||.|.||.||.|||.|.||.||.|.|.|.|.|||.||.||.|.|.|||.|.||.|.|.||.|.|.||.||.|||.||.|.||||.|.|.|.|.|.|||.|.|.|.|.|.|||.|.|.  0
|^||.||^|||^|^|^|||^|^|^|^|^|^|^|^|^|^|||^|^|^|^|^|^|^|^|||^|^|||^|^|^|^|^|||^|^|.|||^|^|||^|^|^|^|^|.|^|||^|||^|||^|^|^|||^||.|.|.||^|^|^|^| 43
|.||.||.|||.|.|.|||.|.|.|.|.|.|.|.|.|.|||.|.|.|.|.|.|.|.|||.|.|||.|.|.|.|.|||.|.|.|||.|.|||.|.|.|.|.|.|.|||.|||.|||.|.|.|||.||.|.|.||.|.|.|.|  0

❯ perl tachyon.pl < input | awk '{ print $2 }' | paste -sd+ -| bc
1537

❯ grep -o '\^' input | wc -l
1655

❯ echo '1537 / 1655 * 100' | bc
92.87009063444108761300
```

So not quite 93% of the splitters in my input were reachable from the start position.

## Part Two

I initially figured that I could just count the number of timelines by multiplying by two every time I encountered a splitter. But that didn't account for the number of times the beam had
previously been split. I ended up having to add a timeline state to my loop. Fortunately, nothing else had to change and I added the current number of timelines to the output.

```
❯ perl tachyon.pl < input | tail
....|^|||||^|||^|^|^|||^|||^|^|^|^|^|||^|^|^|^|^|||^|^|||^|^|^||.||^|||^|^|^|^||.||^|||^||||.|.||^||.||^|^|||^|^|^||.||^|^|^|^|^|^|.|||^|.... 38 3084966240610
....|.|||||.|||.|.|.|||.|||.|.|.|.|.|||.|.|.|.|.|||.|.|||.|.|.||.||.|||.|.|.|.||.||.|||.||||.|.||.||.||.|.|||.|.|.||.||.|.|.|.|.|.|.|||.|....  0 3084966240610
...|^|||||^|^|^||.|.||^|^||.||^|^|^|^||.||^|^|^|^|||^|^|^|^|^|^|.|||^|^|||^|||^|^|^|^|^|^|||.|.|||^|^|^|^|^|||^|^|^|.|^|^|^|||^|^|||^|^|^|... 43 4679984785291
...|.|||||.|.|.||.|.||.|.||.||.|.|.|.||.||.|.|.|.|||.|.|.|.|.|.|.|||.|.|||.|||.|.|.|.|.|.|||.|.|||.|.|.|.|.|||.|.|.|.|.|.|.|||.|.|||.|.|.|...  0 4679984785291
..|^||||||.||^|^|^|.|^|||^|^|^|^||.||^|^|||^|^||.||^|^|^|||^|^|^|||||^|^|^|||^|^|^|^|^|^|^|^||.||^|^|^|^|||^||.||^|^|^|^|^|||^||.||||^|^|^|.. 41 7557119268243
..|.||||||.||.|.|.|.|.|||.|.|.|.||.||.|.|||.|.||.||.|.|.|||.|.|.|||||.|.|.|||.|.|.|.|.|.|.|.||.||.|.|.|.|||.||.||.|.|.|.|.|||.||.||||.|.|.|..  0 7557119268243
.|^|^|||^|^|||^|^|^|^|||||^|^||.||^|||^|^||.||^|^|^|^|^|||^||.||^|^|^|||^|^||.|.|.||^|^|^||.||.|||^||.|.||||^|^|^|^|^|^|||^|^|^|^|^|^|||^|^|. 37 11582392740571
.|.|.|||.|.|||.|.|.|.|||||.|.||.||.|||.|.||.||.|.|.|.|.|||.||.||.|.|.|||.|.||.|.|.||.|.|.||.||.|||.||.|.||||.|.|.|.|.|.|||.|.|.|.|.|.|||.|.|.  0 11582392740571
|^||.||^|||^|^|^|||^|^|^|^|^|^|^|^|^|^|||^|^|^|^|^|^|^|^|||^|^|||^|^|^|^|^|||^|^|.|||^|^|||^|^|^|^|^|.|^|||^|||^|||^|^|^|||^||.|.|.||^|^|^|^| 43 18818811755665
|.||.||.|||.|.|.|||.|.|.|.|.|.|.|.|.|.|||.|.|.|.|.|.|.|.|||.|.|||.|.|.|.|.|||.|.|.|||.|.|||.|.|.|.|.|.|.|||.|||.|||.|.|.|||.||.|.|.||.|.|.|.|  0 18818811755665
```
